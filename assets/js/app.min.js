/*!
 * JavaScript Custom Forms
 *
 * Copyright 2014-2015 PSD2HTML - http://psd2html.com/jcf
 * Released under the MIT license (LICENSE.txt)
 *
 * Version: 1.2.3
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,(function(e){"use strict";var t=[],s={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n=/Windows Phone/.test(navigator.userAgent);s.isMobileDevice=!(!i&&!n);!function(){var t,s=navigator.pointerEnabled||navigator.msPointerEnabled,i="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,n={},a="jcf-";t=s?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(i?" touchstart":""),pointermove:"mousemove"+(i?" touchmove":""),pointerup:"mouseup"+(i?" touchend":"")},e.each(t,(function(t,s){e.each(s.split(" "),(function(e,s){n[s]=t}))})),e.each(t,(function(t,s){s=s.split(" "),e.event.special[a+t]={setup:function(){var t=this;e.each(s,(function(e,s){t.addEventListener?t.addEventListener(s,o,!1):t["on"+s]=o}))},teardown:function(){var t=this;e.each(s,(function(e,s){t.addEventListener?t.removeEventListener(s,o,!1):t["on"+s]=null}))}}}));var r=null,o=function(t){var s=t||window.event,i=null,o=n[s.type];if((t=e.event.fix(s)).type=a+o,s.pointerType)switch(s.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=s.pointerType}else t.pointerType=s.type.substr(0,5);return t.pageX||t.pageY||(i=s.changedTouches?s.changedTouches[0]:s,t.pageX=i.pageX,t.pageY=i.pageY),"touchend"===s.type&&(r={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&r&&function(e){var t=Math.abs(e.pageX-r.x),s=Math.abs(e.pageY-r.y);return 25>=t&&25>=s||void 0}(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),s="jcf-mousewheel";e.event.special[s]={setup:function(){var s=this;e.each(t,(function(e,t){s.addEventListener?s.addEventListener(t,i,!1):s["on"+t]=i}))},teardown:function(){var s=this;e.each(t,(function(e,t){s.addEventListener?s.removeEventListener(t,i,!1):s["on"+t]=null}))}};var i=function(t){var i=t||window.event;if((t=e.event.fix(i)).type=s,"detail"in i&&(t.deltaY=-i.detail),"wheelDelta"in i&&(t.deltaY=-i.wheelDelta),"wheelDeltaY"in i&&(t.deltaY=-i.wheelDeltaY),"wheelDeltaX"in i&&(t.deltaX=-i.wheelDeltaX),"deltaY"in i&&(t.deltaY=i.deltaY),"deltaX"in i&&(t.deltaX=i.deltaX),t.delta=t.deltaY||t.deltaX,1===i.deltaMode){t.delta*=16,t.deltaY*=16,t.deltaX*=16}return(e.event.dispatch||e.event.handle).call(this,t)}}();var a={fireNativeEvent:function(t,s){e(t).each((function(){var e,t=this;t.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(s,!0,!0),t.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=t,t.fireEvent("on"+s,e))}))},bindHandlers:function(){var t=this;e.each(t,(function(s,i){0===s.indexOf("on")&&e.isFunction(i)&&(t[s]=function(){return i.apply(t,arguments)})}))}},r={version:"1.2.3",modules:{},getOptions:function(){return e.extend({},s)},setOptions:function(t,i){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,i):e.extend(s,t)},addModule:function(i){e.isFunction(i)&&(i=i(e,window));var n=function(i){i.element.data(s.dataKey)||i.element.data(s.dataKey,this),t.push(this),this.options=e.extend({},s,this.options,r(i.element),i),this.bindHandlers(),this.init.apply(this,arguments)},r=function(t){var i=t.data(s.optionsKey),n=t.attr(s.optionsKey);if(i)return i;if(n)try{return e.parseJSON(n)}catch(e){}};n.prototype=i,e.extend(i,a),i.plugins&&e.each(i.plugins,(function(t,s){e.extend(s.prototype,a)}));var o=n.prototype.destroy;n.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}o&&o.apply(this,arguments)},this.modules[i.name]=n},getInstance:function(t){return e(t).data(s.dataKey)},replace:function(t,i,n){var a,o=this;return s.styleSheetCreated||function(){var t=e("<style>").appendTo("head"),i=t.prop("sheet")||t.prop("styleSheet"),n=function(e,t,s){s=s||0,i.insertRule?i.insertRule(e+"{"+t+"}",s):i.addRule(e,t,s)};n("."+s.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),n("."+s.rtlClass+" ."+s.hiddenClass,"right:-9999px !important; left: auto !important"),n("."+s.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),n("."+s.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var a=e("html"),o=e("body");"rtl"!==a.css("direction")&&"rtl"!==o.css("direction")||a.addClass(s.rtlClass),a.on("reset",(function(){setTimeout((function(){r.refreshAll()}),0)})),s.styleSheetCreated=!0}(),e(t).each((function(){var t,r=e(this);(a=r.data(s.dataKey))?a.refresh():(i||e.each(o.modules,(function(e,t){return t.prototype.matchElement.call(t.prototype,r)?(i=e,!1):void 0})),i&&(t=e.extend({element:r},n),a=new o.modules[i](t)))})),a},refresh:function(t){e(t).each((function(){var t=e(this).data(s.dataKey);t&&t.refresh()}))},destroy:function(t){e(t).each((function(){var t=e(this).data(s.dataKey);t&&t.destroy()}))},replaceAll:function(t){var s=this;e.each(this.modules,(function(i,n){e(n.prototype.selector,t).each((function(){this.className.indexOf("jcf-ignore")<0&&s.replace(this,i)}))}))},refreshAll:function(i){if(i)e.each(this.modules,(function(t,n){e(n.prototype.selector,i).each((function(){var t=e(this).data(s.dataKey);t&&t.refresh()}))}));else for(var n=t.length-1;n>=0;n--)t[n].refresh()},destroyAll:function(i){if(i)e.each(this.modules,(function(t,n){e(n.prototype.selector,i).each((function(t,i){var n=e(i).data(s.dataKey);n&&n.destroy()}))}));else for(;t.length;)t[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=r),r})),function(e){e.addModule((function(t,s){"use strict";function i(e){this.options=t.extend({wrapNative:!0,wrapNativeOnMobile:!0,fakeDropInBody:!0,useCustomScroll:!0,flipDropToFit:!0,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},e),this.init()}function n(e){this.options=t.extend({wrapNative:!0,useCustomScroll:!0,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},e),this.init()}function a(e){this.options=t.extend({holder:null,maxVisibleItems:10,selectOnClick:!0,useHoverClass:!1,useCustomScroll:!1,handleResize:!0,multipleSelectWithoutKey:!1,alwaysPreventMouseWheel:!1,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},e),this.init()}var r={name:"Select",selector:"select",options:{element:null,multipleCompactStyle:!1},plugins:{ListBox:n,ComboBox:i,SelectList:a},matchElement:function(e){return e.is("select")},init:function(){this.element=t(this.options.element),this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){this.instance&&this.instance.destroy(),this.isListBox()&&!this.options.multipleCompactStyle?this.instance=new n(this.options):this.instance=new i(this.options)},refresh:function(){this.isListBox()&&this.instance instanceof i||!this.isListBox()&&this.instance instanceof n?this.createInstance():this.instance.refresh()},destroy:function(){this.instance.destroy()}};t.extend(i.prototype,{init:function(){this.initStructure(),this.bindHandlers(),this.attachEvents(),this.refresh()},initStructure:function(){this.win=t(s),this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeAreaStructure).insertAfter(this.realElement),this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector),this.selectText=t("<span></span>").appendTo(this.selectTextContainer),l(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.prop("multiple")&&this.fakeElement.addClass("jcf-compact-multiple"),this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative&&(this.options.wrapNative=!0),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass):(this.realElement.addClass(this.options.hiddenClass),this.fakeElement.attr("title",this.realElement.attr("title")),this.fakeDropTarget=this.options.fakeDropInBody?t("body"):this.fakeElement)},attachEvents:function(){var e=this;this.delayedRefresh=function(){setTimeout((function(){e.refresh(),e.list&&(e.list.refresh(),e.list.scrollToActiveOption())}),1)},this.options.wrapNative?this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.delayedRefresh}):(this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown}),this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress}))},onKeyDown:function(e){13===e.which?this.toggleDropdown():this.dropActive&&this.delayedRefresh()},onChange:function(){this.refresh()},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.toggleListMode(!0),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.toggleListMode(!1),this.focusedFlag=!1)},onResize:function(){this.dropActive&&this.hideDropdown()},onSelectDropPress:function(){this.pressedFlag=!0},onSelectDropRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelectAreaPress:function(e){!this.options.fakeDropInBody&&t(e.target).closest(this.dropdown).length||e.button>1||this.realElement.is(":disabled")||(this.selectOpenedByEvent=e.pointerType,this.toggleDropdown(),this.focusedFlag||("mouse"===e.pointerType?this.realElement.focus():this.onFocus(e)),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onSelectAreaRelease))},onSelectAreaRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(e){var s=t(e.target);s.closest(this.fakeElement).length||s.closest(this.dropdown).length||this.hideDropdown()},onSelect:function(){this.refresh(),this.realElement.prop("multiple")?this.repositionDropdown():this.hideDropdown(),this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(e){this.options.wrapNative||(e?this.realElement.attr({size:4,"jcf-size":""}):this.options.wrapNative||this.realElement.removeAttr("size jcf-size"))},createDropdown:function(){this.dropdown&&(this.list.destroy(),this.dropdown.remove()),this.dropdown=t(this.options.fakeDropStructure).appendTo(this.fakeDropTarget),this.dropdown.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),l(this.dropdown),this.realElement.prop("multiple")&&this.dropdown.addClass("jcf-compact-multiple"),this.options.fakeDropInBody&&this.dropdown.css({position:"absolute",top:-9999}),this.list=new a({useHoverClass:!0,handleResize:!1,alwaysPreventMouseWheel:!0,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement}),t(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var e,t,s,i=this.fakeElement.offset(),n=this.fakeElement[0].getBoundingClientRect(),a=n.width||n.right-n.left,r=this.fakeElement.outerHeight(),o=this.dropdown.css("width",a).outerHeight(),l=this.win.scrollTop(),h=this.win.height(),c=!1;i.top+r+o>l+h&&i.top-o>l&&(c=!0),this.options.fakeDropInBody&&(s="static"!==this.fakeDropTarget.css("position")?this.fakeDropTarget.offset().top:0,this.options.flipDropToFit&&c?(t=i.left,e=i.top-o-s):(t=i.left,e=i.top+r-s),this.dropdown.css({width:a,left:t,top:e})),this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&c)},showDropdown:function(){this.realElement.prop("options").length&&(this.dropdown||this.createDropdown(),this.dropActive=!0,this.dropdown.appendTo(this.fakeDropTarget),this.fakeElement.addClass(this.options.dropActiveClass),this.refreshSelectedText(),this.repositionDropdown(),this.list.setScrollTop(this.savedScrollTop),this.list.refresh(),this.win.on("resize",this.onResize),this.doc.on("jcf-pointerdown",this.onOutsideClick))},hideDropdown:function(){this.dropdown&&(this.savedScrollTop=this.list.getScrollTop(),this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass),this.dropdown.removeClass(this.options.flipDropClass).detach(),this.doc.off("jcf-pointerdown",this.onOutsideClick),this.win.off("resize",this.onResize),this.dropActive=!1,"touch"===this.selectOpenedByEvent&&this.onBlur())},toggleDropdown:function(){this.dropActive?this.hideDropdown():this.showDropdown()},refreshSelectedText:function(){var e,s=this.realElement.prop("selectedIndex"),i=this.realElement.prop("options")[s],n=i?i.getAttribute("data-image"):null,a="";this.realElement.prop("multiple")?(t.each(this.realElement.prop("options"),(function(e,t){t.selected&&(a+=(a?", ":"")+t.innerHTML)})),a||(a=this.realElement.attr("placeholder")||""),this.selectText.removeAttr("class").html(a)):i?this.currentSelectedText===i.innerHTML&&this.currentSelectedImage===n||(e=o(i.className,this.options.optionClassPrefix),this.selectText.attr("class",e).html(i.innerHTML),n?(this.selectImage||(this.selectImage=t("<img>").prependTo(this.selectTextContainer).hide()),this.selectImage.attr("src",n).show()):this.selectImage&&this.selectImage.hide(),this.currentSelectedText=i.innerHTML,this.currentSelectedImage=n):(this.selectImage&&this.selectImage.hide(),this.selectText.removeAttr("class").empty())},refresh:function(){"none"===this.realElement.prop("style").display?this.fakeElement.hide():this.fakeElement.show(),this.refreshSelectedText(),this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass):(this.realElement.removeClass(this.options.hiddenClass),this.realElement.is("[jcf-size]")&&this.realElement.removeAttr("size jcf-size")),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onSelectAreaRelease),this.realElement.off({focus:this.onFocus})}}),t.extend(n.prototype,{init:function(){this.bindHandlers(),this.initStructure(),this.attachEvents()},initStructure:function(){this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.listHolder=this.fakeElement.find(this.options.listHolder),l(this.fakeElement),this.fakeElement.addClass(o(this.realElement.prop("className"),this.options.selectClassPrefix)),this.realElement.addClass(this.options.hiddenClass),this.list=new a({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:!1,element:this.realElement})},attachEvents:function(){var e=this;this.delayedRefresh=function(t){t&&(16===t.which||t.ctrlKey||t.metaKey||t.altKey)||(clearTimeout(e.refreshTimer),e.refreshTimer=setTimeout((function(){e.refresh(),e.list.scrollToActiveOption()}),1))},this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh}),t(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(e,t){this.pressedFlag=!0,"mouse"===t.pointerType&&this.realElement.focus()},onFakeOptionsRelease:function(e,t){this.pressedFlag=!1,"mouse"===t.pointerType&&this.realElement.focus()},onSelect:function(){this.fireNativeEvent(this.realElement,"change"),this.fireNativeEvent(this.realElement,"click")},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur),this.focusedFlag=!0)},onBlur:function(){this.pressedFlag||(this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur),this.focusedFlag=!1)},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.list.refresh()},destroy:function(){this.list.destroy(),this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass),this.fakeElement.remove()}}),t.extend(a.prototype,{init:function(){this.initStructure(),this.refreshSelectedClass(),this.attachEvents()},initStructure:function(){this.element=t(this.options.element),this.indexSelector="["+this.options.indexAttribute+"]",this.container=t(this.options.containerStructure).appendTo(this.options.holder),this.listHolder=this.container.find(this.options.containerSelector),this.lastClickedIndex=this.element.prop("selectedIndex"),this.rebuildList(),this.element.prop("multiple")&&(this.previousSelection=this.getSelectedOptionsIndexes())},attachEvents:function(){this.bindHandlers(),this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress),this.listHolder.on("jcf-pointerdown",this.onPress),this.options.useHoverClass&&this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)},onPress:function(e){t(this).trigger("press",e),this.listHolder.on("jcf-pointerup",this.onRelease)},onRelease:function(e){t(this).trigger("release",e),this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(e){var t=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(t).addClass(this.options.hoverClass)},onItemPress:function(e){"touch"===e.pointerType||this.options.selectOnClick?(this.tmpListOffsetTop=this.list.offset().top,this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)):this.onSelectItem(e)},onItemRelease:function(e){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease),this.tmpListOffsetTop===this.list.offset().top&&this.listHolder.on("click",this.indexSelector,{savedPointerType:e.pointerType},this.onSelectItem),delete this.tmpListOffsetTop},onSelectItem:function(e){var s,i=parseFloat(e.currentTarget.getAttribute(this.options.indexAttribute)),n=e.data&&e.data.savedPointerType||e.pointerType||"mouse";this.listHolder.off("click",this.indexSelector,this.onSelectItem),e.button>1||this.realOptions[i].disabled||(this.element.prop("multiple")?e.metaKey||e.ctrlKey||"touch"===n||this.options.multipleSelectWithoutKey?this.realOptions[i].selected=!this.realOptions[i].selected:e.shiftKey?(s=[this.lastClickedIndex,i].sort((function(e,t){return e-t})),this.realOptions.each((function(e,t){t.selected=e>=s[0]&&e<=s[1]}))):this.element.prop("selectedIndex",i):this.element.prop("selectedIndex",i),e.shiftKey||(this.lastClickedIndex=i),this.refreshSelectedClass(),"mouse"===n&&this.scrollToActiveOption(),t(this).trigger("select"))},rebuildList:function(){var s=this,i=this.element[0];this.storedSelectHTML=i.innerHTML,this.optionIndex=0,this.list=t(this.createOptionsList(i)),this.listHolder.empty().append(this.list),this.realOptions=this.element.find("option"),this.fakeOptions=this.list.find(this.indexSelector),this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector),delete this.optionIndex;var n=this.options.maxVisibleItems,a=this.element.prop("size");a>1&&!this.element.is("[jcf-size]")&&(n=a);var r=this.fakeOptions.length>n;return this.container.toggleClass(this.options.scrollClass,r),r&&(this.listHolder.css({maxHeight:this.getOverflowHeight(n),overflow:"auto"}),this.options.useCustomScroll&&e.modules.Scrollable)?void e.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel}):void(this.options.alwaysPreventMouseWheel&&(this.preventWheelHandler=function(e){var t=s.listHolder.scrollTop(),i=s.listHolder.prop("scrollHeight")-s.listHolder.innerHeight();(0>=t&&e.deltaY<0||t>=i&&e.deltaY>0)&&e.preventDefault()},this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)))},refreshSelectedClass:function(){var e,t=this,s=this.element.prop("multiple"),i=this.element.prop("selectedIndex");s?this.realOptions.each((function(e,s){t.fakeOptions.eq(e).toggleClass(t.options.selectedClass,!!s.selected)})):(this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass),e=this.fakeOptions.eq(i).addClass(this.options.selectedClass),this.options.useHoverClass&&e.addClass(this.options.hoverClass))},scrollToActiveOption:function(){var e=this.getActiveOptionOffset();"number"==typeof e&&this.listHolder.prop("scrollTop",e)},getSelectedOptionsIndexes:function(){var e=[];return this.realOptions.each((function(t,s){s.selected&&e.push(t)})),e},getChangedSelectedIndex:function(){var e=this.element.prop("selectedIndex"),s=this,i=!1,n=null;return this.element.prop("multiple")?(this.currentSelection=this.getSelectedOptionsIndexes(),t.each(this.currentSelection,(function(e,t){!i&&s.previousSelection.indexOf(t)<0&&(0===e&&(i=!0),n=t)})),this.previousSelection=this.currentSelection,n):e},getActiveOptionOffset:function(){var e=this.getChangedSelectedIndex();if(null!==e){var t=this.listHolder.height(),s=this.listHolder.prop("scrollTop"),i=this.fakeOptions.eq(e),n=i.offset().top-this.list.offset().top,a=i.innerHeight();return n+a>=s+t?n-t+a:s>n?n:void 0}},getOverflowHeight:function(e){var t=this.fakeListItems.eq(e-1),s=this.list.offset().top;return t.offset().top+t.innerHeight()-s},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(e){this.listHolder.scrollTop(e)},createOption:function(e){var t=document.createElement("span");t.className=this.options.optionClass,t.innerHTML=e.innerHTML,t.setAttribute(this.options.indexAttribute,this.optionIndex++);var s,i=e.getAttribute("data-image");return i&&((s=document.createElement("img")).src=i,t.insertBefore(s,t.childNodes[0])),e.disabled&&(t.className+=" "+this.options.disabledClass),e.className&&(t.className+=" "+o(e.className,this.options.cloneClassPrefix)),t},createOptGroup:function(e){var t,s,i=document.createElement("span"),n=e.getAttribute("label");return(t=document.createElement("span")).className=this.options.captionClass,t.innerHTML=n,i.appendChild(t),e.children.length&&(s=this.createOptionsList(e),i.appendChild(s)),i.className=this.options.groupClass,i},createOptionContainer:function(){return document.createElement("li")},createOptionsList:function(e){var s=this,i=document.createElement("ul");return t.each(e.children,(function(e,t){var n,a=s.createOptionContainer(t);switch(t.tagName.toLowerCase()){case"option":n=s.createOption(t);break;case"optgroup":n=s.createOptGroup(t)}i.appendChild(a).appendChild(n)})),i},refresh:function(){this.storedSelectHTML!==this.element.prop("innerHTML")&&this.rebuildList();var t=e.getInstance(this.listHolder);t&&t.refresh(),this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler),this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem),this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem),this.listHolder.off("jcf-pointerdown",this.onPress)}});var o=function(e,t){return e?e.replace(/[\s]*([\S]+)+[\s]*/gi,t+"$1 "):""},l=function(){function t(e){e.preventDefault()}var s=e.getOptions().unselectableClass;return function(e){e.addClass(s).on("selectstart",t)}}();return r}))}(jcf),jcf.addModule((function(e){"use strict";return{name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(e){return e.is(":checkbox")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element),this.fakeElement=e(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refresh()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!this.stateChecked),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?this.realElement.prop("checked",this.stateChecked):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var t=this.realElement.closest("label"),s=this.realElement.prop("id");return!t.length&&s&&(t=e('label[for="'+s+'"]')),t.length?t:null},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({focus:this.onFocus,click:this.onRealClick})}}})),function(e){e.addModule((function(t){"use strict";return{name:"Radio",selector:'input[type="radio"]',options:{wrapNative:!0,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-radio"><span></span></span>'},matchElement:function(e){return e.is(":radio")},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=t(document),this.realElement=t(this.options.element),this.fakeElement=t(this.options.fakeStructure).insertAfter(this.realElement),this.labelElement=this.getLabelFor(),this.options.wrapNative?this.realElement.prependTo(this.fakeElement).css({position:"absolute",opacity:0}):this.realElement.addClass(this.options.hiddenClass)},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick}),this.fakeElement.on("click",this.onFakeClick),this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(e){var t=this;this.savedEventObject=e,setTimeout((function(){t.refreshRadioGroup()}),0)},onFakeClick:function(e){this.options.wrapNative&&this.realElement.is(e.target)||this.realElement.is(":disabled")||(delete this.savedEventObject,this.currentActiveRadio=this.getCurrentActiveRadio(),this.stateChecked=this.realElement.prop("checked"),this.realElement.prop("checked",!0),this.fireNativeEvent(this.realElement,"click"),this.savedEventObject&&this.savedEventObject.isDefaultPrevented()?(this.realElement.prop("checked",this.stateChecked),this.currentActiveRadio.prop("checked",!0)):this.fireNativeEvent(this.realElement,"change"),delete this.savedEventObject)},onFocus:function(){this.pressedFlag&&this.focusedFlag||(this.focusedFlag=!0,this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur))},onBlur:function(){this.pressedFlag||(this.focusedFlag=!1,this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur))},onPress:function(e){this.focusedFlag||"mouse"!==e.pointerType||this.realElement.focus(),this.pressedFlag=!0,this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(e){this.focusedFlag&&"mouse"===e.pointerType&&this.realElement.focus(),this.pressedFlag=!1,this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getCurrentActiveRadio:function(){return this.getRadioGroup(this.realElement).filter(":checked")},getRadioGroup:function(e){var s=e.attr("name"),i=e.parents("form");return s?i.length?i.find('input[name="'+s+'"]'):t('input[name="'+s+'"]:not(form input)'):e},getLabelFor:function(){var e=this.realElement.closest("label"),s=this.realElement.prop("id");return!e.length&&s&&(e=t('label[for="'+s+'"]')),e.length?e:null},refreshRadioGroup:function(){this.getRadioGroup(this.realElement).each((function(){e.refresh(this)}))},refresh:function(){var e=this.realElement.is(":checked"),t=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,e).toggleClass(this.options.uncheckedClass,!e).toggleClass(this.options.disabledClass,t),this.labelElement&&this.labelElement.toggleClass(this.options.labelActiveClass,e)},destroy:function(){this.options.wrapNative?this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""}):this.realElement.removeClass(this.options.hiddenClass),this.fakeElement.off("jcf-pointerdown",this.onPress),this.fakeElement.remove(),this.doc.off("jcf-pointerup",this.onRelease),this.realElement.off({blur:this.onBlur,focus:this.onFocus,click:this.onRealClick})}}}))}(jcf),jcf.addModule((function(e){"use strict";return{name:"Number",selector:'input[type="number"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-number"><span class="jcf-btn-inc"></span><span class="jcf-btn-dec"></span></span>',btnIncSelector:".jcf-btn-inc",btnDecSelector:".jcf-btn-dec",pressInterval:150},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.btnDec=this.fakeElement.find(this.options.btnDecSelector),this.btnInc=this.fakeElement.find(this.options.btnIncSelector),this.initialValue=parseFloat(this.realElement.val())||0,this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?-1/0:this.minValue,this.maxValue=isNaN(this.maxValue)?1/0:this.maxValue,isFinite(this.maxValue)&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue)},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.btnDec.add(this.btnInc).on("jcf-pointerdown",this.onBtnPress)},onBtnPress:function(e){var t,s=this;this.realElement.is(":disabled")||(t=this.btnInc.is(e.currentTarget),s.step(t),clearInterval(this.stepTimer),this.stepTimer=setInterval((function(){s.step(t)}),this.options.pressInterval),this.page.on("jcf-pointerup",this.onBtnRelease))},onBtnRelease:function(){clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease)},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress})},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){38!==e.which&&40!==e.which||(e.preventDefault(),this.step(38===e.which))},step:function(e){var t=parseFloat(this.realElement.val()),s=t||0,i=this.stepValue*(e?1:-1),n=isFinite(this.minValue)?this.minValue:this.initialValue-Math.abs(s*this.stepValue),a=Math.abs(n-s)%this.stepValue;a?e?s+=i-a:s-=a:s+=i,s<this.minValue?s=this.minValue:s>this.maxValue&&(s=this.maxValue),s!==t&&(this.realElement.val(s).trigger("change"),this.refresh())},refresh:function(){var e=this.realElement.is(":disabled"),t=parseFloat(this.realElement.val());this.fakeElement.toggleClass(this.options.disabledClass,e),this.btnDec.toggleClass(this.options.disabledClass,t===this.minValue),this.btnInc.toggleClass(this.options.disabledClass,t===this.maxValue)},destroy:function(){this.realElement.removeClass(this.options.realElementClass).insertBefore(this.fakeElement),this.fakeElement.remove(),clearInterval(this.stepTimer),this.page.off("jcf-pointerup",this.onBtnRelease),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})),jcf.addModule((function(e){"use strict";return{name:"File",selector:'input[type="file"]',options:{fakeStructure:'<span class="jcf-file"><span class="jcf-fake-input"></span><span class="jcf-upload-button"><span class="jcf-button-content"></span></span></span>',buttonText:"Choose file",placeholderText:"No file chosen",realElementClass:"jcf-real-element",extensionPrefixClass:"jcf-extension-",selectedFileBlock:".jcf-fake-input",buttonTextBlock:".jcf-button-content"},matchElement:function(e){return e.is('input[type="file"]')},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){this.doc=e(document),this.realElement=e(this.options.element).addClass(this.options.realElementClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement),this.fileNameBlock=this.fakeElement.find(this.options.selectedFileBlock),this.buttonTextBlock=this.fakeElement.find(this.options.buttonTextBlock).text(this.options.buttonText),this.realElement.appendTo(this.fakeElement).css({position:"absolute",opacity:0})},attachEvents:function(){this.realElement.on({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus})},onChange:function(){this.refresh()},onFocus:function(){this.fakeElement.addClass(this.options.focusClass),this.realElement.on("blur",this.onBlur)},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off("blur",this.onBlur)},onPress:function(){this.fakeElement.addClass(this.options.pressedClass),this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(){this.fakeElement.removeClass(this.options.pressedClass),this.doc.off("jcf-pointerup",this.onRelease)},getFileName:function(){var t="",s=this.realElement.prop("files");return s&&s.length?e.each(s,(function(e,s){t+=(e>0?", ":"")+s.name})):t=this.realElement.val().replace(/^[\s\S]*(?:\\|\/)([\s\S^\\\/]*)$/g,"$1"),t},getFileExtension:function(){var e=this.realElement.val();return e.lastIndexOf(".")<0?"":e.substring(e.lastIndexOf(".")+1).toLowerCase()},updateExtensionClass:function(){var e=this.getFileExtension(),t=this.fakeElement.prop("className").replace(new RegExp("(\\s|^)"+this.options.extensionPrefixClass+"[^ ]+","gi"),"");this.fakeElement.prop("className",t),e&&this.fakeElement.addClass(this.options.extensionPrefixClass+e)},refresh:function(){var e=this.getFileName()||this.options.placeholderText;this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled")),this.fileNameBlock.text(e),this.updateExtensionClass()},destroy:function(){this.realElement.insertBefore(this.fakeElement).removeClass(this.options.realElementClass).css({position:"",opacity:""}),this.fakeElement.remove(),this.realElement.off({"jcf-pointerdown":this.onPress,change:this.onChange,focus:this.onFocus,blur:this.onBlur}),this.doc.off("jcf-pointerup",this.onRelease)}}})),jcf.addModule((function(e){"use strict";return{name:"Range",selector:'input[type="range"]',options:{realElementClass:"jcf-real-element",fakeStructure:'<span class="jcf-range"><span class="jcf-range-wrapper"><span class="jcf-range-track"><span class="jcf-range-handle"></span></span></span></span>',dataListMark:'<span class="jcf-range-mark"></span>',rangeDisplayWrapper:'<span class="jcf-range-display-wrapper"></span>',rangeDisplay:'<span class="jcf-range-display"></span>',handleSelector:".jcf-range-handle",trackSelector:".jcf-range-track",activeHandleClass:"jcf-active-handle",verticalClass:"jcf-vertical",orientation:"horizontal",range:!1,dragHandleCenter:!0,snapToMarks:!0,snapRadius:5,minRange:0},matchElement:function(e){return e.is(this.selector)},init:function(){this.initStructure(),this.attachEvents(),this.refresh()},initStructure:function(){for(this.page=e("html"),this.realElement=e(this.options.element).addClass(this.options.hiddenClass),this.fakeElement=e(this.options.fakeStructure).insertBefore(this.realElement).prepend(this.realElement),this.track=this.fakeElement.find(this.options.trackSelector),this.trackHolder=this.track.parent(),this.handle=this.fakeElement.find(this.options.handleSelector),this.createdHandleCount=0,this.activeDragHandleIndex=0,this.isMultiple=this.realElement.prop("multiple")||"string"==typeof this.realElement.attr("multiple"),this.values=this.isMultiple?this.realElement.attr("value").split(","):[this.realElement.val()],this.handleCount=this.isMultiple?this.values.length:1,this.rangeDisplayWrapper=e(this.options.rangeDisplayWrapper).insertBefore(this.track),"min"!==this.options.range&&"all"!==this.options.range||(this.rangeMin=e(this.options.rangeDisplay).addClass("jcf-range-min").prependTo(this.rangeDisplayWrapper)),"max"!==this.options.range&&"all"!==this.options.range||(this.rangeMax=e(this.options.rangeDisplay).addClass("jcf-range-max").prependTo(this.rangeDisplayWrapper));this.createdHandleCount<this.handleCount;)this.createdHandleCount++,this.handle.clone().addClass("jcf-index-"+this.createdHandleCount).insertBefore(this.handle),this.createdHandleCount>1&&(this.rangeMid||(this.rangeMid=e()),this.rangeMid=this.rangeMid.add(e(this.options.rangeDisplay).addClass("jcf-range-mid").prependTo(this.rangeDisplayWrapper)));this.handle.detach(),this.handle=null,this.handles=this.fakeElement.find(this.options.handleSelector),this.handles.eq(0).addClass(this.options.activeHandleClass),this.isVertical="vertical"===this.options.orientation,this.directionProperty=this.isVertical?"top":"left",this.offsetProperty=this.isVertical?"bottom":"left",this.eventProperty=this.isVertical?"pageY":"pageX",this.sizeProperty=this.isVertical?"height":"width",this.sizeMethod=this.isVertical?"innerHeight":"innerWidth",this.fakeElement.css("touchAction",this.isVertical?"pan-x":"pan-y"),this.isVertical&&this.fakeElement.addClass(this.options.verticalClass),this.minValue=parseFloat(this.realElement.attr("min")),this.maxValue=parseFloat(this.realElement.attr("max")),this.stepValue=parseFloat(this.realElement.attr("step"))||1,this.minValue=isNaN(this.minValue)?0:this.minValue,this.maxValue=isNaN(this.maxValue)?100:this.maxValue,1!==this.stepValue&&(this.maxValue-=(this.maxValue-this.minValue)%this.stepValue),this.stepsCount=(this.maxValue-this.minValue)/this.stepValue,this.createDataList()},attachEvents:function(){this.realElement.on({focus:this.onFocus}),this.trackHolder.on("jcf-pointerdown",this.onTrackPress),this.handles.on("jcf-pointerdown",this.onHandlePress)},createDataList:function(){var t=this,s=[],i=this.realElement.attr("list");i&&(e("#"+i).find("option").each((function(){var i,n=parseFloat(this.value||this.innerHTML);isNaN(n)||(i=t.valueToOffset(n),s.push({value:n,offset:i}),e(t.options.dataListMark).text(n).attr({"data-mark-value":n}).css(t.offsetProperty,i+"%").appendTo(t.track))})),s.length&&(t.dataValues=s))},getDragHandleRange:function(e){var t=-1/0,s=1/0;return e>0&&(t=this.valueToStepIndex(parseFloat(this.values[e-1])+this.options.minRange)),e<this.handleCount-1&&(s=this.valueToStepIndex(parseFloat(this.values[e+1])-this.options.minRange)),{minStepIndex:t,maxStepIndex:s}},getNearestHandle:function(t){this.isVertical&&(t=1-t);var s=this.handles.eq(0),i=1/0,n=this;return this.handleCount>1&&this.handles.each((function(){var a=parseFloat(this.style[n.offsetProperty])/100,r=Math.abs(a-t);i>r&&(i=r,s=e(this))})),s},onTrackPress:function(e){var t,s,i;e.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(t=this.track[this.sizeMethod](),s=this.track.offset()[this.directionProperty],this.activeDragHandle=this.getNearestHandle((e[this.eventProperty]-s)/this.trackHolder[this.sizeMethod]()),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),i=this.activeDragHandle[this.sizeMethod]()/2,this.dragData={trackSize:t,innerOffset:i,trackOffset:s,min:s,max:s+t},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===e.pointerType&&this.realElement.focus(),this.onHandleMove(e))},onHandlePress:function(t){var s,i,n;t.preventDefault(),this.realElement.is(":disabled")||this.activeDragHandle||(this.activeDragHandle=e(t.currentTarget),this.activeDragHandleIndex=this.handles.index(this.activeDragHandle),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass),s=this.track[this.sizeMethod](),i=this.track.offset()[this.directionProperty],n=this.options.dragHandleCenter?this.activeDragHandle[this.sizeMethod]()/2:t[this.eventProperty]-this.handle.offset()[this.directionProperty],this.dragData={trackSize:s,innerOffset:n,trackOffset:i,min:i,max:i+s},this.page.on({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),"mouse"===t.pointerType&&this.realElement.focus())},onHandleMove:function(t){var s,i,n,a,r,o=this;if((s=this.isVertical?this.dragData.max+(this.dragData.min-t[this.eventProperty])-this.dragData.innerOffset:t[this.eventProperty]-this.dragData.innerOffset)<this.dragData.min?s=this.dragData.min:s>this.dragData.max&&(s=this.dragData.max),t.preventDefault(),this.options.snapToMarks&&this.dataValues){var l=s-this.dragData.trackOffset;i=(s-this.dragData.trackOffset)/this.dragData.trackSize*100,e.each(this.dataValues,(function(e,t){var s=t.offset/100*o.dragData.trackSize,n=s-o.options.snapRadius,a=s+o.options.snapRadius;return l>=n&&a>=l?(i=t.offset,!1):void 0}))}else i=(s-this.dragData.trackOffset)/this.dragData.trackSize*100;n=Math.round(i*this.stepsCount/100),this.handleCount>1&&(n<(r=this.getDragHandleRange(this.activeDragHandleIndex)).minStepIndex?n=Math.max(r.minStepIndex,n):n>r.maxStepIndex&&(n=Math.min(r.maxStepIndex,n))),a=n*(100/this.stepsCount),this.dragData.stepIndex!==n&&(this.dragData.stepIndex=n,this.dragData.offset=a,this.activeDragHandle.css(this.offsetProperty,this.dragData.offset+"%"),this.values[this.activeDragHandleIndex]=""+this.stepIndexToValue(n),this.updateValues(),this.realElement.trigger("input"))},onHandleRelease:function(){var e;"number"==typeof this.dragData.offset&&(e=this.stepIndexToValue(this.dragData.stepIndex),this.realElement.val(e).trigger("change")),this.page.off({"jcf-pointermove":this.onHandleMove,"jcf-pointerup":this.onHandleRelease}),delete this.activeDragHandle,delete this.dragData},onFocus:function(){this.fakeElement.hasClass(this.options.focusClass)||(this.fakeElement.addClass(this.options.focusClass),this.realElement.on({blur:this.onBlur,keydown:this.onKeyPress}))},onBlur:function(){this.fakeElement.removeClass(this.options.focusClass),this.realElement.off({blur:this.onBlur,keydown:this.onKeyPress})},onKeyPress:function(e){var t=38===e.which||39===e.which,s=37===e.which||40===e.which;if(9===e.which&&this.handleCount>1){if(e.shiftKey&&this.activeDragHandleIndex>0)this.activeDragHandleIndex--;else{if(e.shiftKey||!(this.activeDragHandleIndex<this.handleCount-1))return;this.activeDragHandleIndex++}e.preventDefault(),this.handles.removeClass(this.options.activeHandleClass).eq(this.activeDragHandleIndex).addClass(this.options.activeHandleClass)}(s||t)&&(e.preventDefault(),this.step(t?this.stepValue:-this.stepValue))},updateValues:function(){var e=this.values.join(",");this.values.length>1?(this.realElement.prop("valueLow",this.values[0]),this.realElement.prop("valueHigh",this.values[this.values.length-1]),this.realElement.val(e),this.realElement.val()!==e&&this.realElement.val(this.values[this.values.length-1])):this.realElement.val(e),this.updateRanges()},updateRanges:function(){var e,t=this;this.rangeMin&&(e=this.handles[0],this.rangeMin.css(this.offsetProperty,0).css(this.sizeProperty,e.style[this.offsetProperty])),this.rangeMax&&(e=this.handles[this.handles.length-1],this.rangeMax.css(this.offsetProperty,e.style[this.offsetProperty]).css(this.sizeProperty,100-parseFloat(e.style[this.offsetProperty])+"%")),this.rangeMid&&this.handles.each((function(e,s){var i,n;e>0&&(i=t.handles[e-1],(n=t.rangeMid[e-1]).style[t.offsetProperty]=i.style[t.offsetProperty],n.style[t.sizeProperty]=parseFloat(s.style[t.offsetProperty])-parseFloat(i.style[t.offsetProperty])+"%")}))},step:function(e){var t=parseFloat(this.values[this.activeDragHandleIndex||0]),s=t,i=this.minValue,n=this.maxValue;isNaN(t)&&(s=0),s+=e,this.handleCount>1&&(this.activeDragHandleIndex>0&&(i=parseFloat(this.values[this.activeDragHandleIndex-1])+this.options.minRange),this.activeDragHandleIndex<this.handleCount-1&&(n=parseFloat(this.values[this.activeDragHandleIndex+1])-this.options.minRange)),s>n?s=n:i>s&&(s=i),s!==t&&(this.values[this.activeDragHandleIndex||0]=""+s,this.updateValues(),this.realElement.trigger("input").trigger("change"),this.setSliderValue(this.values))},valueToStepIndex:function(e){return(e-this.minValue)/this.stepValue},stepIndexToValue:function(e){return this.minValue+this.stepValue*e},valueToOffset:function(e){var t=this.maxValue-this.minValue;return(e-this.minValue)/t*100},getSliderValue:function(){return e.map(this.values,(function(e){return parseFloat(e)||0}))},setSliderValue:function(e){var t=this;this.handles.each((function(s,i){i.style[t.offsetProperty]=t.valueToOffset(e[s])+"%"}))},refresh:function(){var e=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.disabledClass,e),this.setSliderValue(this.getSliderValue()),this.updateRanges()},destroy:function(){this.realElement.removeClass(this.options.hiddenClass).insertBefore(this.fakeElement),this.fakeElement.remove(),this.realElement.off({keydown:this.onKeyPress,focus:this.onFocus,blur:this.onBlur})}}})),function(e){"use strict";e.fn.fitVids=function(t){var s={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.appendChild(n.childNodes[1])}return t&&e.extend(s,t),this.each((function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];s.customSelector&&t.push(s.customSelector);var i=".fitvidsignore";s.ignore&&(i=i+", "+s.ignore);var n=e(this).find(t.join(","));(n=(n=n.not("object object")).not(i)).each((function(t){var s=e(this);if(!(s.parents(i).length>0||"embed"===this.tagName.toLowerCase()&&s.parent("object").length||s.parent(".fluid-width-video-wrapper").length)){s.css("height")||s.css("width")||!isNaN(s.attr("height"))&&!isNaN(s.attr("width"))||(s.attr("height",9),s.attr("width",16));var n=("object"===this.tagName.toLowerCase()||s.attr("height")&&!isNaN(parseInt(s.attr("height"),10))?parseInt(s.attr("height"),10):s.height())/(isNaN(parseInt(s.attr("width"),10))?s.width():parseInt(s.attr("width"),10));if(!s.attr("id")){var a="fitvid"+t;s.attr("id",a)}s.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),s.removeAttr("height").removeAttr("width")}}))}))}}(window.jQuery||window.Zepto),
/*! picturefill - v3.0.2 - 2016-02-12
 * https://scottjehl.github.io/picturefill/
 * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT
 */
/*! Gecko-Picture - v1.0
 * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture
 * Firefox's early picture implementation (prior to FF41) is static and does
 * not react to viewport changes. This tiny module fixes this.
 */
function(e){var t,s,i,n,a,r,o,l=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(l)&&l.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(s=document.createElement("source"),i=function(e){var t,i,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=s.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout((function(){n.removeChild(t)}))):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout((function(){e.sizes=i})))},n=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},a=function(){clearTimeout(t),t=setTimeout(n,99)},r=e.matchMedia&&matchMedia("(orientation: landscape)"),o=function(){a(),r&&r.addListener&&r.addListener(a)},s.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?o():document.addEventListener("DOMContentLoaded",o),a))}(window),
/*! Picturefill - v3.0.2
 * http://scottjehl.github.io/picturefill
 * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;
 *  License: MIT
 */
function(e,t,s){"use strict";var i,n,a;t.createElement("picture");var r={},o=!1,l=function(){},h=t.createElement("img"),c=h.getAttribute,d=h.setAttribute,u=h.removeAttribute,p=t.documentElement,f={},m={algorithm:""},g=navigator.userAgent,v=/rident/.test(g)||/ecko/.test(g)&&g.match(/rv\:(\d+)/)&&RegExp.$1>35,C="currentSrc",E=/\s+\+?\d+(e\d+)?w/,b=/(\([^)]+\))?\s*(.+)/,y=e.picturefillCFG,w="font-size:100%!important;",k=!0,x={},S={},A=e.devicePixelRatio,T={px:1,in:96},j=t.createElement("a"),D=!1,H=/^[ \t\n\r\u000c]+/,F=/^[, \t\n\r\u000c]+/,R=/^[^ \t\n\r\u000c]+/,I=/[,]+$/,M=/^\d+$/,P=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,L=function(e,t,s,i){e.addEventListener?e.addEventListener(t,s,i||!1):e.attachEvent&&e.attachEvent("on"+t,s)},N=function(e){var t={};return function(s){return s in t||(t[s]=e(s)),t[s]}};function O(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}var z,B,V,q,K,W,$,U,Y,G,Q,X,_,Z,J,ee,te=(z=/^([\d\.]+)(em|vw|px)$/,B=N((function(e){return"return "+function(){for(var e=arguments,t=0,s=e[0];++t in e;)s=s.replace(e[t],e[++t]);return s}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"})),function(e,t){var s;if(!(e in x))if(x[e]=!1,t&&(s=e.match(z)))x[e]=s[1]*T[s[2]];else try{x[e]=new Function("e",B(e))(T)}catch(e){}return x[e]}),se=function(e,t){return e.w?(e.cWidth=r.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},ie=function(e){if(o){var s,i,n,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),n=(s=a.elements||r.qsa(a.context||t,a.reevaluate||a.reselect?r.sel:r.selShort)).length){for(r.setupRun(a),D=!0,i=0;i<n;i++)r.fillImg(s[i],a);r.teardownRun(a)}}};function ne(e,t){return e.res-t.res}function ae(e,t){var s,i,n;if(e&&t)for(n=r.parseSet(t),e=r.makeUrl(e),s=0;s<n.length;s++)if(e===r.makeUrl(n[s].url)){i=n[s];break}return i}e.console&&console.warn,C in h||(C="src"),f["image/jpeg"]=!0,f["image/gif"]=!0,f["image/png"]=!0,f["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),r.ns=("pf"+(new Date).getTime()).substr(0,9),r.supSrcset="srcset"in h,r.supSizes="sizes"in h,r.supPicture=!!e.HTMLPictureElement,r.supSrcset&&r.supPicture&&!r.supSizes&&(V=t.createElement("img"),h.srcset="data:,a",V.src="data:,a",r.supSrcset=h.complete===V.complete,r.supPicture=r.supSrcset&&r.supPicture),r.supSrcset&&!r.supSizes?(q="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",K=t.createElement("img"),W=function(){2===K.width&&(r.supSizes=!0),n=r.supSrcset&&!r.supSizes,o=!0,setTimeout(ie)},K.onload=W,K.onerror=W,K.setAttribute("sizes","9px"),K.srcset=q+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",K.src=q):o=!0,r.selShort="picture>img,img[srcset]",r.sel=r.selShort,r.cfg=m,r.DPR=A||1,r.u=T,r.types=f,r.setSize=l,r.makeUrl=N((function(e){return j.href=e,j.href})),r.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},r.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?r.matchesMedia=function(e){return!e||matchMedia(e).matches}:r.matchesMedia=r.mMQ,r.matchesMedia.apply(this,arguments)},r.mMQ=function(e){return!e||te(e)},r.calcLength=function(e){var t=te(e,!0)||!1;return t<0&&(t=!1),t},r.supportsType=function(e){return!e||f[e]},r.parseSize=N((function(e){var t=(e||"").match(b);return{media:t&&t[1],length:t&&t[2]}})),r.parseSet=function(e){return e.cands||(e.cands=function(e,t){function s(t){var s,i=t.exec(e.substring(h));if(i)return s=i[0],h+=s.length,s}var i,n,a,r,o,l=e.length,h=0,c=[];function d(){var e,s,a,r,o,l,h,d,u,p=!1,f={};for(r=0;r<n.length;r++)l=(o=n[r])[o.length-1],h=o.substring(0,o.length-1),d=parseInt(h,10),u=parseFloat(h),M.test(h)&&"w"===l?((e||s)&&(p=!0),0===d?p=!0:e=d):P.test(h)&&"x"===l?((e||s||a)&&(p=!0),u<0?p=!0:s=u):M.test(h)&&"h"===l?((a||s)&&(p=!0),0===d?p=!0:a=d):p=!0;p||(f.url=i,e&&(f.w=e),s&&(f.d=s),a&&(f.h=a),a||s||e||(f.d=1),1===f.d&&(t.has1x=!0),f.set=t,c.push(f))}function u(){for(s(H),a="",r="in descriptor";;){if(o=e.charAt(h),"in descriptor"===r)if(O(o))a&&(n.push(a),a="",r="after descriptor");else{if(","===o)return h+=1,a&&n.push(a),void d();if("("===o)a+=o,r="in parens";else{if(""===o)return a&&n.push(a),void d();a+=o}}else if("in parens"===r)if(")"===o)a+=o,r="in descriptor";else{if(""===o)return n.push(a),void d();a+=o}else if("after descriptor"===r)if(O(o));else{if(""===o)return void d();r="in descriptor",h-=1}h+=1}}for(;;){if(s(F),h>=l)return c;i=s(R),n=[],","===i.slice(-1)?(i=i.replace(I,""),d()):u()}}(e.srcset,e)),e.cands},r.getEmValue=function(){var e;if(!i&&(e=t.body)){var s=t.createElement("div"),n=p.style.cssText,a=e.style.cssText;s.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",p.style.cssText=w,e.style.cssText=w,e.appendChild(s),i=s.offsetWidth,e.removeChild(s),i=parseFloat(i,10),p.style.cssText=n,e.style.cssText=a}return i||16},r.calcListLength=function(e){if(!(e in S)||m.uT){var t=r.calcLength(function(e){var t,s,i,n,a,o,l,h=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(i=(s=function(e){var t,s="",i=[],n=[],a=0,r=0,o=!1;function l(){s&&(i.push(s),s="")}function h(){i[0]&&(n.push(i),i=[])}for(;;){if(""===(t=e.charAt(r)))return l(),h(),n;if(o){if("*"===t&&"/"===e[r+1]){o=!1,r+=2,l();continue}r+=1}else{if(O(t)){if(e.charAt(r-1)&&O(e.charAt(r-1))||!s){r+=1;continue}if(0===a){l(),r+=1;continue}t=" "}else if("("===t)a+=1;else if(")"===t)a-=1;else{if(","===t){l(),h(),r+=1;continue}if("/"===t&&"*"===e.charAt(r+1)){o=!0,r+=2;continue}}s+=t,r+=1}}}(e)).length,t=0;t<i;t++)if(a=(n=s[t])[n.length-1],l=a,h.test(l)&&parseFloat(l)>=0||c.test(l)||"0"===l||"-0"===l||"+0"===l){if(o=a,n.pop(),0===n.length)return o;if(n=n.join(" "),r.matchesMedia(n))return o}return"100vw"}(e));S[e]=t||T.width}return S[e]},r.setRes=function(e){var t;if(e)for(var s=0,i=(t=r.parseSet(e)).length;s<i;s++)se(t[s],e.sizes);return t},r.setRes.res=se,r.applySetCandidate=function(e,t){if(e.length){var s,i,n,a,o,l,h,c,d,u,p,f,g,E,b,y,w=t[r.ns],k=r.DPR;if(l=w.curSrc||t[C],(h=w.curCan||function(e,t,s){var i;return!s&&t&&(s=(s=e[r.ns].sets)&&s[s.length-1]),(i=ae(t,s))&&(t=r.makeUrl(t),e[r.ns].curSrc=t,e[r.ns].curCan=i,i.res||se(i,i.set.sizes)),i}(t,l,e[0].set))&&h.set===e[0].set&&((d=v&&!t.complete&&h.res-.1>k)||(h.cached=!0,h.res>=k&&(o=h))),!o)for(e.sort(ne),o=e[(a=e.length)-1],i=0;i<a;i++)if((s=e[i]).res>=k){o=e[n=i-1]&&(d||l!==r.makeUrl(s.url))&&(u=e[n].res,p=s.res,f=k,g=e[n].cached,E=void 0,b=void 0,y=void 0,"saveData"===m.algorithm?u>2.7?y=f+1:(b=(p-f)*(E=Math.pow(u-.6,1.5)),g&&(b+=.1*E),y=u+b):y=f>1?Math.sqrt(u*p):u,y>f)?e[n]:s;break}o&&(c=r.makeUrl(o.url),w.curSrc=c,w.curCan=o,c!==l&&r.setSrc(t,o),r.setSize(t))}},r.setSrc=function(e,t){var s;e.src=t.url,"image/svg+xml"===t.set.type&&(s=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=s))},r.getSet=function(e){var t,s,i,n=!1,a=e[r.ns].sets;for(t=0;t<a.length&&!n;t++)if((s=a[t]).srcset&&r.matchesMedia(s.media)&&(i=r.supportsType(s.type))){"pending"===i&&(s=i),n=s;break}return n},r.parseSets=function(e,t,s){var i,a,o,l,h=t&&"PICTURE"===t.nodeName.toUpperCase(),p=e[r.ns];(void 0===p.src||s.src)&&(p.src=c.call(e,"src"),p.src?d.call(e,"data-pfsrc",p.src):u.call(e,"data-pfsrc")),(void 0===p.srcset||s.srcset||!r.supSrcset||e.srcset)&&(i=c.call(e,"srcset"),p.srcset=i,l=!0),p.sets=[],h&&(p.pic=!0,function(e,t){var s,i,n,a,o=e.getElementsByTagName("source");for(s=0,i=o.length;s<i;s++)(n=o[s])[r.ns]=!0,(a=n.getAttribute("srcset"))&&t.push({srcset:a,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(t,p.sets)),p.srcset?(a={srcset:p.srcset,sizes:c.call(e,"sizes")},p.sets.push(a),(o=(n||p.src)&&E.test(p.srcset||""))||!p.src||ae(p.src,a)||a.has1x||(a.srcset+=", "+p.src,a.cands.push({url:p.src,d:1,set:a}))):p.src&&p.sets.push({srcset:p.src,sizes:null}),p.curCan=null,p.curSrc=void 0,p.supported=!(h||a&&!r.supSrcset||o&&!r.supSizes),l&&r.supSrcset&&!p.supported&&(i?(d.call(e,"data-pfsrcset",i),e.srcset=""):u.call(e,"data-pfsrcset")),p.supported&&!p.srcset&&(!p.src&&e.src||e.src!==r.makeUrl(p.src))&&(null===p.src?e.removeAttribute("src"):e.src=p.src),p.parsed=!0},r.fillImg=function(e,t){var s,i=t.reselect||t.reevaluate;e[r.ns]||(e[r.ns]={}),s=e[r.ns],(i||s.evaled!==a)&&(s.parsed&&!t.reevaluate||r.parseSets(e,e.parentNode,t),s.supported?s.evaled=a:function(e){var t,s=r.getSet(e),i=!1;"pending"!==s&&(i=a,s&&(t=r.setRes(s),r.applySetCandidate(t,e))),e[r.ns].evaled=i}(e))},r.setupRun=function(){D&&!k&&A===e.devicePixelRatio||(k=!1,A=e.devicePixelRatio,x={},S={},r.DPR=A||1,T.width=Math.max(e.innerWidth||0,p.clientWidth),T.height=Math.max(e.innerHeight||0,p.clientHeight),T.vw=T.width/100,T.vh=T.height/100,a=[T.height,T.width,A].join("-"),T.em=r.getEmValue(),T.rem=T.em)},r.supPicture?(ie=l,r.fillImg=l):(_=e.attachEvent?/d$|^c/:/d$|^c|^i/,Z=function(){var e=t.readyState||"";J=setTimeout(Z,"loading"===e?200:999),t.body&&(r.fillImgs(),($=$||_.test(e))&&clearTimeout(J))},J=setTimeout(Z,t.body?9:99),ee=p.clientHeight,L(e,"resize",(U=function(){k=Math.max(e.innerWidth||0,p.clientWidth)!==T.width||p.clientHeight!==ee,ee=p.clientHeight,k&&r.fillImgs()},Y=99,X=function(){var e=new Date-Q;e<Y?G=setTimeout(X,Y-e):(G=null,U())},function(){Q=new Date,G||(G=setTimeout(X,Y))})),L(t,"readystatechange",Z)),r.picturefill=ie,r.fillImgs=ie,r.teardownRun=l,ie._=r,e.picturefillCFG={pf:r,push:function(e){var t=e.shift();"function"==typeof r[t]?r[t].apply(r,e):(m[t]=e[0],D&&r.fillImgs({reselect:!0}))}};for(;y&&y.length;)e.picturefillCFG.push(y.shift());e.picturefill=ie,"object"==typeof module&&"object"==typeof module.exports?module.exports=ie:"function"==typeof define&&define.amd&&define("picturefill",(function(){return ie})),r.supPicture||(f["image/webp"]=function(t,s){var i=new e.Image;return i.onerror=function(){f[t]=!1,ie()},i.onload=function(){f[t]=1===i.width,ie()},i.src=s,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),
/*!
 * jQuery Validation Plugin v1.19.2
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2020 Jörn Zaefferer
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}((function(e){e.extend(e.fn,{validate:function(t){if(this.length){var s=e.data(this[0],"validator");return s||(this.attr("novalidate","novalidate"),s=new e.validator(t,this[0]),e.data(this[0],"validator",s),s.settings.onsubmit&&(this.on("click.validate",":submit",(function(t){s.submitButton=t.currentTarget,e(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(s.cancelSubmit=!0)})),this.on("submit.validate",(function(t){function i(){var i,n;return s.submitButton&&(s.settings.submitHandler||s.formSubmitted)&&(i=e("<input type='hidden'/>").attr("name",s.submitButton.name).val(e(s.submitButton).val()).appendTo(s.currentForm)),!(s.settings.submitHandler&&!s.settings.debug)||(n=s.settings.submitHandler.call(s,s.currentForm,t),i&&i.remove(),void 0!==n&&n)}return s.settings.debug&&t.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,i()):s.form()?s.pendingRequest?(s.formSubmitted=!0,!1):i():(s.focusInvalid(),!1)}))),s)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,s,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,s=e(this[0].form).validate(),this.each((function(){(t=s.element(this)&&t)||(i=i.concat(s.errorList))})),s.errorList=i),t},rules:function(t,s){var i,n,a,r,o,l,h=this[0],c=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=h&&(!h.form&&c&&(h.form=this.closest("form")[0],h.name=this.attr("name")),null!=h.form)){if(t)switch(n=(i=e.data(h.form,"validator").settings).rules,a=e.validator.staticRules(h),t){case"add":e.extend(a,e.validator.normalizeRule(s)),delete a.messages,n[h.name]=a,s.messages&&(i.messages[h.name]=e.extend(i.messages[h.name],s.messages));break;case"remove":return s?(l={},e.each(s.split(/\s/),(function(e,t){l[t]=a[t],delete a[t]})),l):(delete n[h.name],a)}return(r=e.validator.normalizeRules(e.extend({},e.validator.classRules(h),e.validator.attributeRules(h),e.validator.dataRules(h),e.validator.staticRules(h)),h)).required&&(o=r.required,delete r.required,r=e.extend({required:o},r)),r.remote&&(o=r.remote,delete r.remote,r=e.extend(r,{remote:o})),r}}});var t,s=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};e.extend(e.expr.pseudos||e.expr[":"],{blank:function(t){return!s(""+e(t).val())},filled:function(t){var i=e(t).val();return null!==i&&!!s(""+i)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,s){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=s,this.init()},e.validator.format=function(t,s){return 1===arguments.length?function(){var s=e.makeArray(arguments);return s.unshift(t),e.validator.format.apply(this,s)}:(void 0===s||(arguments.length>2&&s.constructor!==Array&&(s=e.makeArray(arguments).slice(1)),s.constructor!==Array&&(s=[s]),e.each(s,(function(e,s){t=t.replace(new RegExp("\\{"+e+"\\}","g"),(function(){return s}))}))),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,s){9===s.which&&""===this.elementValue(t)||-1!==e.inArray(s.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,s,i){"radio"===t.type?this.findByName(t.name).addClass(s).removeClass(i):e(t).addClass(s).removeClass(i)},unhighlight:function(t,s,i){"radio"===t.type?this.findByName(t.name).removeClass(s).addClass(i):e(t).removeClass(s).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t,s=this.currentForm,i=this.groups={};function n(t){var i=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");if(!this.form&&i&&(this.form=e(this).closest("form")[0],this.name=e(this).attr("name")),s===this.form){var n=e.data(this.form,"validator"),a="on"+t.type.replace(/^validate/,""),r=n.settings;r[a]&&!e(this).is(r.ignore)&&r[a].call(n,this,t)}}e.each(this.settings.groups,(function(t,s){"string"==typeof s&&(s=s.split(/\s/)),e.each(s,(function(e,s){i[s]=t}))})),t=this.settings.rules,e.each(t,(function(s,i){t[s]=e.validator.normalizeRule(i)})),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",n).on("click.validate","select, option, [type='radio'], [type='checkbox']",n),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var s,i,n=this.clean(t),a=this.validationTargetFor(n),r=this,o=!0;return void 0===a?delete this.invalid[n.name]:(this.prepareElement(a),this.currentElements=e(a),(i=this.groups[a.name])&&e.each(this.groups,(function(e,t){t===i&&e!==a.name&&(n=r.validationTargetFor(r.clean(r.findByName(e))))&&n.name in r.invalid&&(r.currentElements.push(n),o=r.check(n)&&o)})),s=!1!==this.check(a),o=o&&s,this.invalid[a.name]=!s,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!s)),o},showErrors:function(t){if(t){var s=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,(function(e,t){return{message:e,element:s.findByName(t)[0]}})),this.successList=e.grep(this.successList,(function(e){return!(e.name in t)}))}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,s=0;for(t in e)void 0!==e[t]&&null!==e[t]&&!1!==e[t]&&s++;return s},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,(function(e){return e.element.name===t.name})).length&&t},elements:function(){var t=this,s={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter((function(){var i=this.name||e(this).attr("name"),n=void 0!==e(this).attr("contenteditable")&&"false"!==e(this).attr("contenteditable");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),n&&(this.form=e(this).closest("form")[0],this.name=i),this.form===t.currentForm&&(!(i in s||!t.objectLength(e(this).rules()))&&(s[i]=!0,!0))}))},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var s,i,n=e(t),a=t.type,r=void 0!==n.attr("contenteditable")&&"false"!==n.attr("contenteditable");return"radio"===a||"checkbox"===a?this.findByName(t.name).filter(":checked").val():"number"===a&&void 0!==t.validity?t.validity.badInput?"NaN":n.val():(s=r?n.text():n.val(),"file"===a?"C:\\fakepath\\"===s.substr(0,12)?s.substr(12):(i=s.lastIndexOf("/"))>=0||(i=s.lastIndexOf("\\"))>=0?s.substr(i+1):s:"string"==typeof s?s.replace(/\r/g,""):s)},check:function(t){t=this.validationTargetFor(this.clean(t));var s,i,n,a,r=e(t).rules(),o=e.map(r,(function(e,t){return t})).length,l=!1,h=this.elementValue(t);for(i in"function"==typeof r.normalizer?a=r.normalizer:"function"==typeof this.settings.normalizer&&(a=this.settings.normalizer),a&&(h=a.call(t,h),delete r.normalizer),r){n={method:i,parameters:r[i]};try{if("dependency-mismatch"===(s=e.validator.methods[i].call(this,h,t,n.parameters))&&1===o){l=!0;continue}if(l=!1,"pending"===s)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!s)return this.formatAndAdd(t,n),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+n.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+n.method+"' method."),e}}if(!l)return this.objectLength(r)&&this.successList.push(t),!0},customDataMessage:function(t,s){return e(t).data("msg"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var s=this.settings.messages[e];return s&&(s.constructor===String?s:s[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,s){"string"==typeof s&&(s={method:s});var i=this.findDefined(this.customMessage(t.name,s.method),this.customDataMessage(t,s.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[s.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),n=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,s.parameters,t):n.test(i)&&(i=e.validator.format(i.replace(n,"{$1}"),s.parameters)),i},formatAndAdd:function(e,t){var s=this.defaultMessage(e,t);this.errorList.push({message:s,element:e,method:t.method}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,s;for(e=0;this.errorList[e];e++)s=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,s.element,this.settings.errorClass,this.settings.validClass),this.showLabel(s.element,s.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map((function(){return this.element}))},showLabel:function(t,s){var i,n,a,r,o=this.errorsFor(t),l=this.idOrName(t),h=e(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(s)):(i=o=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(s||""),this.settings.wrapper&&(i=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,e(t)):i.insertAfter(t),o.is("label")?o.attr("for",l):0===o.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(a=o.attr("id"),h?h.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(h+=" "+a):h=a,e(t).attr("aria-describedby",h),(n=this.groups[t.name])&&(r=this,e.each(r.groups,(function(t,s){s===n&&e("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",o.attr("id"))}))))),!s&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var s=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),n="label[for='"+s+"'], label[for='"+s+"'] *";return i&&(n=n+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(n)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,s){switch(s.nodeName.toLowerCase()){case"select":return e("option:selected",s).length;case"input":if(this.checkable(s))return this.findByName(s.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,s){return!!e(t,s.form).length},function:function(e,t){return e(t)}},optional:function(t){var s=this.elementValue(t);return!e.validator.methods.required.call(this,s,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,s){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),s&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.submitButton&&e("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!s&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,s){return s="string"==typeof s&&s||"remote",e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:s})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,s){t.constructor===String?this.classRuleSettings[t]=s:e.extend(this.classRuleSettings,t)},classRules:function(t){var s={},i=e(t).attr("class");return i&&e.each(i.split(" "),(function(){this in e.validator.classRuleSettings&&e.extend(s,e.validator.classRuleSettings[this])})),s},normalizeAttributeRule:function(e,t,s,i){/min|max|step/.test(s)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[s]=i:t===s&&"range"!==t&&(e[s]=!0)},attributeRules:function(t){var s,i,n={},a=e(t),r=t.getAttribute("type");for(s in e.validator.methods)"required"===s?(""===(i=t.getAttribute(s))&&(i=!0),i=!!i):i=a.attr(s),this.normalizeAttributeRule(n,r,s,i);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var s,i,n={},a=e(t),r=t.getAttribute("type");for(s in e.validator.methods)""===(i=a.data("rule"+s.charAt(0).toUpperCase()+s.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(n,r,s,i);return n},staticRules:function(t){var s={},i=e.data(t.form,"validator");return i.settings.rules&&(s=e.validator.normalizeRule(i.settings.rules[t.name])||{}),s},normalizeRules:function(t,s){return e.each(t,(function(i,n){if(!1!==n){if(n.param||n.depends){var a=!0;switch(typeof n.depends){case"string":a=!!e(n.depends,s.form).length;break;case"function":a=n.depends.call(s,s)}a?t[i]=void 0===n.param||n.param:(e.data(s.form,"validator").resetElements(e(s)),delete t[i])}}else delete t[i]})),e.each(t,(function(i,n){t[i]=e.isFunction(n)&&"normalizer"!==i?n(s):n})),e.each(["minlength","maxlength"],(function(){t[this]&&(t[this]=Number(t[this]))})),e.each(["rangelength","range"],(function(){var s;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(s=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(s[0]),Number(s[1])]))})),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var s={};e.each(t.split(/\s/),(function(){s[this]=!0})),t=s}return t},addMethod:function(t,s,i){e.validator.methods[t]=s,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],s.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,s,i){if(!this.depend(i,s))return"dependency-mismatch";if("select"===s.nodeName.toLowerCase()){var n=e(s).val();return n&&n.length>0}return this.checkable(s)?this.getLength(t,s)>0:null!=t&&t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:(t=!1,function(e,s){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(s)||!/Invalid|NaN/.test(new Date(e).toString())}),dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,s,i){var n=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||n>=i},maxlength:function(t,s,i){var n=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||n<=i},rangelength:function(t,s,i){var n=e.isArray(t)?t.length:this.getLength(t,s);return this.optional(s)||n>=i[0]&&n<=i[1]},min:function(e,t,s){return this.optional(t)||e>=s},max:function(e,t,s){return this.optional(t)||e<=s},range:function(e,t,s){return this.optional(t)||e>=s[0]&&e<=s[1]},step:function(t,s,i){var n,a=e(s).attr("type"),r="Step attribute on input type "+a+" is not supported.",o=new RegExp("\\b"+a+"\\b"),l=function(e){var t=(""+e).match(/(?:\.(\d+))?$/);return t&&t[1]?t[1].length:0},h=function(e){return Math.round(e*Math.pow(10,n))},c=!0;if(a&&!o.test(["text","number","range"].join()))throw new Error(r);return n=l(i),(l(t)>n||h(t)%h(i)!=0)&&(c=!1),this.optional(s)||c},equalTo:function(t,s,i){var n=e(i);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",(function(){e(s).valid()})),t===n.val()},remote:function(t,s,i,n){if(this.optional(s))return"dependency-mismatch";n="string"==typeof n&&n||"remote";var a,r,o,l=this.previousValue(s,n);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[s.name][n],this.settings.messages[s.name][n]=l.message,i="string"==typeof i&&{url:i}||i,o=e.param(e.extend({data:t},i.data)),l.old===o?l.valid:(l.old=o,a=this,this.startRequest(s),(r={})[s.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:r,context:a.currentForm,success:function(e){var i,r,o,h=!0===e||"true"===e;a.settings.messages[s.name][n]=l.originalMessage,h?(o=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(s),a.formSubmitted=o,a.successList.push(s),a.invalid[s.name]=!1,a.showErrors()):(i={},r=e||a.defaultMessage(s,{method:n,parameters:t}),i[s.name]=l.message=r,a.invalid[s.name]=!0,a.showErrors(i)),l.valid=h,a.stopRequest(s,h)}},i)),"pending")}}});var i,n={};return e.ajaxPrefilter?e.ajaxPrefilter((function(e,t,s){var i=e.port;"abort"===e.mode&&(n[i]&&n[i].abort(),n[i]=s)})):(i=e.ajax,e.ajax=function(t){var s=("mode"in t?t:e.ajaxSettings).mode,a=("port"in t?t:e.ajaxSettings).port;return"abort"===s?(n[a]&&n[a].abort(),n[a]=i.apply(this,arguments),n[a]):i.apply(this,arguments)}),e})),jQuery(document).ready((function(e){function t(t,s){s.length&&t.hasClass("active")&&(e("body").removeClass("mobile-menu--active"),t.removeClass("active animate-end").addClass("animate-reverse"),s.stop().fadeOut({duration:400,queue:!1}).slideUp(400),setTimeout((function(){t.removeClass("animate-reverse")}),400))}function s(s,i){s.hasClass("active")?t(s,i):function(t,s){s.length&&(t.hasClass("active")||(e("body").addClass("mobile-menu--active"),t.addClass("active animate"),s.stop().fadeIn({duration:400,queue:!1}).css("display","none").slideDown(400),setTimeout((function(){t.addClass("animate-end").removeClass("animate")}),400)))}(s,i)}function i(){e("select").attr("data-jcf",'{"wrapNative": false, "wrapNativeOnMobile": false, "fakeDropInBody": false, "multipleCompactStyle": true}'),jcf.replaceAll(),e(".jcf-icon").remove(),e(".jcf-select-opener").append("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z'/></svg>")}e("body").removeClass("js-inactive").addClass("js-active"),e(window).on("load",(function(){e(".anim").each((function(){e(this).addClass("loaded")}))})),e(window).on("scroll",(function(){})),e(".js-toggle-menu").on("click",(function(t){t.preventDefault(),s(e(".js-toggle-menu"),e(".site-menu"))})),e(window).on("scroll",(function(){t(e(".js-toggle-menu"),e(".site-menu"))})),e(window).on("resize",(function(){e(this).width()>900&&e(".site-menu").css("display","")})),e("iframe").wrap('<div class="fitvids-container"></div>'),e(".fitvids-container").fitVids(),i(),e(document).ajaxComplete((function(){i()}));var n={errorElement:"span",errorClass:"form__validation",errorPlacement:function(e,t){e.appendTo(t.parent())},highlight:function(t){e(t).parents(".form__item").addClass("form__item--error")},unhighlight:function(t){e(t).parents(".form__item").removeClass("form__item--error")}};e(".js-form-validate").validate(n),e(".btn--disabled").on("click",(function(e){e.preventDefault()}))}));